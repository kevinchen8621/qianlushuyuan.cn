<!doctype html>
<html class="n-home js">
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <title>钱路书院</title>
    <link rel="stylesheet" href="/css/style.css"/>       
    <meta name="keywords" content="教育">
    <meta name="description" content="教育">
</head>
<body ng-app="app">


    <section ui-view></section>


    <!-- 所有页面通用footer -->
    <div class="m-footer">
        <div class="g-container clear">
          <p class="links">
            <a href="#/">About US</a><span>-</span>
            <a href="#/">联系方式</a><span>-</span>
          </p>
          <p class="cr">
            钱路书院视频适用于《中华人民共和国著作权法》<br/>
            未经书面允许，请勿转播<br/>
          </p>
          <div><h1>专注传播世上赚钱策略(钱路)</h1></div>
        </div>
    </div>
    <!-- 所有页面通用footer end -->

    <script src="http://cdn.bootcss.com/lodash.js/2.4.1/lodash.min.js"></script>
    <script src="http://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.bootcss.com/angular.js/1.2.16/angular.min.js"></script>
    <script src="http://cdn.bootcss.com/angular.js/1.2.16/angular-animate.min.js"></script>
    <script src="http://cdn.bootcss.com/angular.js/1.2.16/angular-sanitize.min.js"></script>
    <script src="http://cdn.bootcss.com/angular.js/1.2.16/angular-resource.min.js"></script>

    <script src="http://cdn.bootcss.com/angular-ui-router/0.2.10/angular-ui-router.min.js"></script>

<script src="js/videogular/videogular.js" type="text/javascript"></script>
<script src="js/videogular/plugins/controls.js" type="text/javascript"></script>
<script src="js/videogular/plugins/overlay-play.js" type="text/javascript"></script>
<script src="js/videogular/plugins/buffering.js" type="text/javascript"></script>
<script src="js/videogular/plugins/poster.js" type="text/javascript"></script>

	<script type="text/javascript">
		'use strict';
		angular.module("app",["ui.router",
			"com.2fdevs.videogular",
			  "com.2fdevs.videogular.plugins.controls",
			  "com.2fdevs.videogular.plugins.overlayplay",
			  "com.2fdevs.videogular.plugins.buffering",
			  "com.2fdevs.videogular.plugins.poster"
		])
		.config(['$stateProvider', '$urlRouterProvider', function ($stateProvider, $urlRouterProvider) {
			$urlRouterProvider.otherwise("/");
			$stateProvider
				.state("video", {url:'/video/:id', templateUrl: 'tpl/video',controller:'VideoCtl'})
				.state("home", {url:'/', templateUrl: 'tpl/home',controller:'HomeCtl'})
		}])
		.controller("HomeCtl",["$scope","$rootScope",function($scope,$rootScope){
		}])
		.controller("VideoCtl",["$scope","$stateParams","$sce", function($scope,$stateParams,$sce){
		    $scope.vname = $stateParams.id || '';
		 
		    $scope.stretchModes = [
		      {label: "None", value: "none"},
		      {label: "Fit", value: "fit"},
		      {label: "Fill", value: "fill"}
		    ];

		    $scope.config = {
		      width: 740,
		      height: 380,
		      autoHide: false,
		      autoPlay: false,
		      responsive: true,
		      stretch: $scope.stretchModes[1],
		      theme: {
		        url: "/css/videogular.css",
		        playIcon: "&#xe000;",
		        pauseIcon: "&#xe001;",
		        volumeLevel3Icon: "&#xe002;",
		        volumeLevel2Icon: "&#xe003;",
		        volumeLevel1Icon: "&#xe004;",
		        volumeLevel0Icon: "&#xe005;",
		        muteIcon: "&#xe006;",
		        enterFullScreenIcon: "&#xe007;",
		        exitFullScreenIcon: "&#xe008;"
		      },
		     plugins: {
		        poster: {
		          url: "/img/videogular.png"
		        }
		      }
		    };
		}])
		.run(['$rootScope', '$location', '$window', '$http', function ($rootScope, $location, $window, $http) {
			$rootScope.token = $window.sessionStorage.token;
			if($rootScope.token){
				$http.get('/api/me',{token:$rootScope.token}).success(function(data){
					if(!data.error){
						
						$rootScope.user = data;
					}
				})
			}
		}]);
		

	</script>


</body>
</html>
