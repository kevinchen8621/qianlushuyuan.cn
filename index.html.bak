<!DOCTYPE html>
<html lang="en" ng-app="mo">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="images/icon.png">
<title>{{site.title}}</title>
<!-- Bootstrap -->
<link href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
<link href="http://cdn.bootcss.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet">
<link href="http://cdn.bootcss.com/toastr.js/latest/css/toastr.min.css" rel="stylesheet">
<!-- Custom styles for this template -->

<!--[if !IE]> -->
<script type="text/javascript">
window.jQuery || document.write("<script src='http://cdn.bootcss.com/jquery/2.1.1/jquery.min.js'>"+"<"+"/script>");
</script>
<!-- <![endif]-->
<!--[if IE]>
<script type="text/javascript">
window.jQuery || document.write("<script src='http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js'>"+"<"+"/script>");
</script>
<![endif]-->

</head>
<body ng-controller="AppCtl" >

<div ui-view></div>

<modal-dialog key='signup_by_email' show='mdData.show' width='660px' dialog-title='邮箱注册'>
	<div class="row">
		<div class="col-md-7 seprate">
			<form class="form-horizontal" role="form">
				<div class="form-group">
					<label class="col-sm-3 control-label">用户名:</label>
					<div class="col-sm-9">
						<input type="text" ng-model="mdData.username" class="form-control" placeholder="请在此输入您的用户名(3~15字符)">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">E-mail:</label>
					<div class="col-sm-9">
						<input type="email" ng-model="mdData.email" class="form-control" placeholder="在此输入您的Email">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">密码:</label>
					<div class="col-sm-9">
						<input type="password" ng-model="mdData.password" class="form-control" placeholder="请输入您的密码">
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						<div class="checkbox">
							<label class="control-label">
								<input type="checkbox" ng-model="mdData.agree"> 同意用户协议
							</label>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						<button ng-click="doSignup()" class="btn btn-default btn-success">提交注册信息</button>
					</div>
				</div>
			</form>
		</div>
		<div class="col-md-4 col-md-offset-1">
			<h4>已有{{site.title}}账号？</h4><br>
			<button ng-click="toggleModal('signin')" class="btn btn-info btn-sm">登陆</button>
			<br><br><br>
			<h6>或使用以下账号直接登陆</h6>
			<a ng-click="mdSignQQ()"><img src="/img/qq_login.png" alt="qq"></a>
		</div>
	</div>
</modal-dialog>
<modal-dialog key='signup_by_mobile' show='mdData.show' width='660px' dialog-title='手机注册'>
	<div class="row">
		<div class="col-md-7 seprate">
			<form class="form-horizontal" role="form">
				<div class="form-group">
					<label class="col-sm-3 control-label">用户名:</label>
					<div class="col-sm-9">
						<input type="text" ng-model="mdData.username" class="form-control" placeholder="请在此输入您的用户名(3~15字符)">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">手机号:</label>
					<div class="col-sm-9">
						<input type="text" ng-model="mdData.mobile" class="form-control" placeholder="在此输入您的手机号码">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">验证码:</label>
					<div class="col-sm-9">
						<div class="input-group">
							<input type="text" class="form-control" ng-model="mdData.sms" placeholder="输入验证码">
							<span class="input-group-btn">
								<button class="btn btn-sm btn-default  form-control" type="button" ng-disabled="mdData.smsDisable" ng-click="sendSms()">
									<i class="icon-calendar bigger-110"></i>发送验证码!
								</button>
							</span>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">密码:</label>
					<div class="col-sm-9">
						<input type="password" ng-model="mdData.password" class="form-control" placeholder="请输入您的密码">
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						<div class="checkbox">
							<label class="control-label">
								<input type="checkbox" ng-model="mdData.agree"> 同意用户协议
							</label>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						<button ng-click="doSignup()" class="btn btn-default btn-success">提交注册信息</button>
					</div>
				</div>
			</form>
		</div>
		<div class="col-md-4 col-md-offset-1">
			<h4>已有{{site.title}}账号？</h4><br>
			<button ng-click="toggleModal('signin')" class="btn btn-info btn-sm">登陆</button>
			<br><br><br>
			<h6>或使用以下账号直接登陆</h6>
			<a ng-click="mdSignQQ()"><img src="/img/qq_login.png" alt="qq"></a>
		</div>
	</div>
</modal-dialog>
<modal-dialog key="signin" show='mdData.show' width='660px' dialog-title='登陆'>
	<div class="row">
		<div class="col-md-7 seprate">
			<form class="form-horizontal" role="form">
				<div class="form-group">
					<label class="col-sm-3 control-label">用户名:</label>
					<div class="col-sm-9">
						<input type="text" class="form-control" ng-model="mdData.username" placeholder="用户名 , 手机号 , Email">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">密码:</label>
					<div class="col-sm-9">
						<input type="password" ng-model="mdData.password" class="form-control" placeholder="请输入您的密码">
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						找回密码通过 <a ng-click="toggleModal('forgot_by_email')" class="control-label">邮箱</a> | <a ng-click="toggleModal('forgot_by_mobile')" class="control-label">手机</a> 
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						<button ng-click="doSignin()" class="btn btn-default btn-success">登陆</button>
					</div>
				</div>
			</form>
		</div>
		<div class="col-md-4 col-md-offset-1">
			<h4>还没有{{site.title}}账号？</h4><br>
			<button ng-click="toggleModal('signup_by_email')" class="btn btn-info btn-sm">邮箱注册</button>
			<button ng-click="toggleModal('signup_by_mobile')" class="btn btn-info btn-sm">手机注册</button>
			<br><br><br>
			<h6>或使用以下账号直接登陆</h6>
			<a ng-click="mdSignQQ()"><img src="/img/qq_login.png" alt="qq"></a>
		</div>
	</div>
</modal-dialog>
<modal-dialog key="forgot_by_email" show='mdData.show' width='660px' dialog-title='找回密码'>
	<div class="row">
		<div class="col-md-8 col-md-offset-2 seprate">
			<form class="form-horizontal" role="form">
				<div class="form-group">
					<label class="col-sm-3 control-label">Email:</label>
					<div class="col-sm-9">
						<input type="email" ng-model="mdData.email" class="form-control" placeholder="在此输入您注册时的Email">
						<p class="help-block">此功能将会发送一个找回密码的特别链接到你的邮箱，通过该链接可以进入重置密码的页面.</p>
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						<button ng-click="doForgot()" class="btn btn-default btn-success">找回密码</button>
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						<h5><a ng-click="toggleModal('signin')">登陆</a> - <a ng-click="toggleModal('signup_by_email')">注册会员</a></h5><br>
						<br><br>
						<h6>也可以使用第三方账号登陆</h6>
						<a ng-click="mdSignQQ()"><img src="/img/qq_login.png" alt="qq"></a>
					</div>
				</div>	
			</form>
		</div>
	</div>
</modal-dialog>
<modal-dialog key="forgot_by_mobile" show='mdData.show' width='660px' dialog-title='找回密码'>
	<div class="row">
		<div class="col-md-8 col-md-offset-2 seprate">
			<form class="form-horizontal" role="form">
				<div class="form-group">
					<label class="col-sm-3 control-label">手机号:</label>
					<div class="col-sm-9">
						<input type="text" ng-model="mdData.username" class="form-control" placeholder="输入注册的用户名或手机号">
						<p class="help-block">此功能将会发送一个手机验证码到你的手机，正确填写验证码和新设定的密码，进入系统.</p>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">验证码:</label>
					<div class="col-sm-9">
						<div class="input-group">
							<input type="text" class="form-control" ng-model="mdData.sms" placeholder="输入验证码">
							<span class="input-group-btn">
								<button class="btn btn-sm btn-default" type="button" ng-disabled="mdData.smsDisable" ng-click="sendSms()">
									<i class="icon-calendar bigger-110"></i>发送验证码!
								</button>
							</span>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">新密码:</label>
					<div class="col-sm-9">
						<input type="password" ng-model="mdData.password" class="form-control" placeholder="请输入新的密码">
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						<button ng-click="doForgot()" class="btn btn-default btn-success">找回密码</button>
					</div>
				</div>
				<div class="form-group">
					<div class="col-sm-offset-3 col-sm-9">
						<h5><a ng-click="toggleModal('signin')">登陆</a> - <a ng-click="toggleModal('signup_by_mobile')">注册会员</a></h5><br>
						<br><br>
						<h6>也可以使用第三方账号登陆</h6>
						<a ng-click="mdSignQQ()"><img src="/img/qq_login.png" alt="qq"></a>
					</div>
				</div>	
			</form>
		</div>
	</div>
</modal-dialog>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://cdn.bootcss.com/angular.js/1.2.16/angular.min.js"></script>
<script src="http://cdn.bootcss.com/angular-ui-router/0.2.10/angular-ui-router.min.js"></script>

<script src="http://xinziji.com/assets/js/services.js"></script>
<script src="http://xinziji.com/assets/js/filters.js"></script>
<script src="http://xinziji.com/assets/js/directives.js"></script>

<script type="text/javascript">
'use strict';
mo.config(['$stateProvider', '$urlRouterProvider','$httpProvider', function ($stateProvider, $urlRouterProvider, $httpProvider) {
	$urlRouterProvider.otherwise("/");
	$stateProvider
		.state("f", {abstract: true, templateUrl: 'tpl/f/layout', controller:"FCtl"})
		.state("f.home", {url:'/',  templateUrl: 'tpl/f/home', controller:"FHomeCtl"})
	$httpProvider.interceptors.push('authInterceptor');
}])
.controller("AppCtl",["$scope", "$state", function($scope, $state){
	$state.transitionTo('f.home');	
}])
.controller("FCtl",["$scope","$rootScope","$http","$window", function($scope,$rootScope,$http,$window){
}])
.controller("FHomeCtl",["$scope","$rootScope","$http","$window","$timeout", function($scope,$rootScope,$http,$window,$timeout){

}])
.run(['$rootScope', '$location', '$window', function ($rootScope, $location, $window) {


}]);


</script>


</body>
</html>
